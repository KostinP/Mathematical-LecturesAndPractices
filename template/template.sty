\ProvidesPackage{template}

\usepackage{etex}

\reserveinserts{28}

\usepackage{morewrites}

\morewritessetup{allocate=11}
%\pdfcompresslevel=0
%\pdfobjcompresslevel=0
\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english, russian]{babel}
\usepackage{amsfonts, amsmath, amssymb, systeme} %Math symbols
%пакет asmmath позволяет, например, поднимать индекс в корне, дописыванием перед индексом \uproot{2}
\usepackage{ntheorem}
\usepackage[normalem]{ulem} %подчеркивания текста
\usepackage[paperwidth=170mm,paperheight=240mm,centering,height=186mm,width=140mm]{geometry}
\usepackage{mathtools, stackengine}
\usepackage{subfiles}

%настройки текста
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE, CO]{\leftmark}
\fancyfoot[LE, RO]{\thepage}

\usepackage{float}
\usepackage{graphicx}
\graphicspath{ {./pics/} }
\DeclareGraphicsExtensions{.pdf,.png,.jpg} %чтобы не указывать формат
\usepackage{wrapfig}

\stackMath

\geometry{left=2cm}
\geometry{right=1.5cm}
\geometry{top=1.5cm}
\geometry{bottom=15mm}

%для красивых символов
\usepackage{upgreek}
\usepackage{dsfont}
\usepackage{amssymb}
\usepackage{tipa}
\usepackage{ wasysym }
\usepackage{gensymb} %градусы
\usepackage{mathrsfs}
\usepackage{ bbold } %1 красивая

%зачеркивание текста
\usepackage{cancel}

%для цветного текста
\usepackage[usenames]{color}

%для ссылок
\usepackage{xcolor}
\usepackage{hyperref}
%Цвета для гиперссылок
\definecolor{linkcolor}{HTML}{0000ff} % цвет ссылок
\definecolor{urlcolor}{HTML}{0000ff} % цвет гиперссылок
\hypersetup{pdfstartview=FitH,  linkcolor=linkcolor,urlcolor=urlcolor, colorlinks=true}

%Убираем подпись Рис [номер]:
\usepackage{caption}
\captionsetup[figure]{labelformat=empty}

%фиксим проблему с нумерацией скрытых глав (от слова hidden)
\newcommand{\hpart}[2]{
	\addcontentsline{toc}{part}{#1\q#2}
	\addtocounter{part}{1}
}
\newcommand{\hchapter}[2]{
	\addcontentsline{toc}{chapter}{#1\q#2}
	\addtocounter{chapter}{1}
}
\newcommand{\hsection}[2]{
	\addcontentsline{toc}{section}{#1\q#2}
	\addtocounter{section}{1}
}
\newcommand{\hsubsection}[2]{
	\addcontentsline{toc}{subsection}{#1\q#2}
	\addtocounter{subsection}{1}
}
\newcommand{\hsubsubsection}[2]{
	\addcontentsline{toc}{subsubsection}{#1\q#2}
	\addtocounter{subsubsection}{1}
}
\newcommand{\hparagraph}[2]{
	\addcontentsline{toc}{paragraph}{#1\q#2}
	\addtocounter{paragraph}{1}
}
\newcommand{\hsubparagraph}[2]{
	\addcontentsline{toc}{subparagraph}{#1\q#2}
	\addtocounter{subparagraph}{1}
}

\newenvironment{question}[1]{\hspace*{-4em} #1 \addcontentsline{toc}{subsection}{#1}}{\newpage}
\newenvironment{lect}[1]{\hspace*{-4em} #1}{\newpage}
\newcommand{\Date}[1]{\newpage \hspace*{-4em} #1}
% \newcommand{\definition}{\paragraph{\underline{\bfseries Опр}}}
%удобный набор символов
\newcommand{\R}{\mathds{R}}
\newcommand{\Q}{\mathds{Q}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\B}{\mathcal{B}}
\newcommand{\CC}{\mathds{C}}
\newcommand{\N}{\mathds{N}}
\newcommand{\P}{\mathds{P}}
\newcommand{\Ra}{\Rightarrow}
\newcommand{\RA}{\ \Rightarrow\ }
\newcommand{\ra}{\rightarrow}
\newcommand{\La}{\Leftarrow}
\newcommand{\LA}{\ \Leftarrow\ }
\newcommand{\la}{\leftarrow}
\newcommand{\rla}{\Leftrightarrow}
\newcommand{\lra}{\Leftrightarrow}
\newcommand{\RLA}{\ \Leftrightarrow\ }
\newcommand{\LRA}{\ \Leftrightarrow\ }
\newcommand{\lla}{\leftleftarrows}
\newcommand{\rra}{\rightrightarrows}
\newcommand{\e}{\exists}
\newcommand{\E}{\mathcal{E}}
\newcommand{\q}{\quad}
\newcommand{\qq}{\qquad}

%недостающие определения
%алгебра
\renewcommand{\gcd}{\text{НОД}}
\newcommand{\const}{\mathop{\rm const}\nolimits}
\newcommand{\ord}{\mathop{\rm ord}\nolimits}
\newcommand{\Hom}{\mathop{\rm Hom}\nolimits}
\newcommand{\GL}{\mathop{\rm GL}\nolimits}
\newcommand{\SL}{\mathop{\rm SL}\nolimits}
\newcommand{\Orb}{\mathop{\rm Orb}\nolimits}
\newcommand{\Stab}{\mathop{\rm Stab}\nolimits}
\newcommand{\Ker}{\mathop{\rm Ker}\nolimits}
\newcommand{\Char}{\mathop{\rm char}\nolimits}
\newcommand{\cont}{\mathop{\rm cont}\nolimits}
\newcommand{\End}{\mathop{\rm End}\nolimits}
\newcommand{\rk}{\mathop{\rm rk}\nolimits}
\newcommand{\id}{\mathop{\rm id}\nolimits}
\newcommand{\Lp}{\mathop{\rm Lp}\nolimits}
\newcommand{\LL}{\mathscr{L}\nolimits}
\newcommand{\Tr}{\mathop{\rm Tr}\nolimits}
\newcommand{\Arg}{\mathop{\rm Arg}\nolimits}
\newcommand{\Ln}{\mathop{\rm Ln}\nolimits}

\newcommand{\real}{\mathop{\rm Re}\nolimits} %заняты с большой буквы
\newcommand{\imag}{\mathop{\rm Im}\nolimits} %заняты с большой буквы
\newcommand{\im}{\mathop{\rm Im}\nolimits}
\renewcommand{\Im}{\mathop{\rm Im}\nolimits}
\renewcommand{\Re}{\mathop{\rm Re}\nolimits}
%матан
\newcommand{\sign}{\mathop{\rm sign}\nolimits}
\newcommand{\res}{\mathop{\rm res}\nolimits}
\newcommand{\HS}{\mathop{\rm HS}\nolimits}
\newcommand{\Mat}{\mathop{\rm Mat}\nolimits}
%геома
\newcommand{\Cl}{\mathop{\rm Cl}\nolimits}
\newcommand{\Int}{\mathop{\rm Int}\nolimits}
\newcommand{\Ex}{\mathop{\rm Ex}\nolimits}
\newcommand{\Fr}{\mathop{\rm Fr}\nolimits}
\newcommand{\ext}{\mathop{\rm ext}\nolimits}
\newcommand{\mathint}{\mathop{\rm int}\nolimits}
\newcommand{\diam}{\mathop{\rm diam}\nolimits}
\newcommand{\pr}{\mathop{\rm pr}\nolimits}
\renewcommand{\S}{\mathop{\rm S}\nolimits}
%дискра
\newcommand{\num}{\mathop{\rm num}\nolimits}
\newcommand{\head}{\mathop{\rm head}\nolimits}
\newcommand{\tail}{\mathop{\rm tail}\nolimits}
\newcommand{\next}{\mathop{\rm next}\nolimits}
%диффуры
\newcommand{\Lip}{\mathop{\rm Lip}\nolimits}


%сокращения
\newcommand{\nin}{\not \in}
\newcommand{\eqdef}{\stackrel{\rm def}{=}} %=def
\newcommand{\ol}[1]{\overline{#1}} %черточка над
\newcommand{\ool}[1]{\overline{\overline{#1}}} %две черточки над
\newcommand{\ul}[1]{\underline{#1}} %черточка под
\newcommand{\uul}[1]{\underline{\underline{#1}}} %две черточки под
\newcommand{\ob}[2]{\overbrace{#2}^{#1}} %подпись над
\newcommand{\ub}[2]{\underbrace{#2}_{#1}} %подпись под
\renewcommand{\vec}[1]{\overrightarrow{#1}} %вектор над
\newcommand{\os}[2]{\overset{#1}{#2}} %подпись над
\newcommand{\us}[2]{\underset{#1}{#2}} %подпись под
\newcommand{\w}[1]{\widetilde{#1}} %тильда над
\renewcommand{\d}{\partial} %знак дифференциала
\renewcommand{\leq}{\leqslant}
\renewcommand{\geq}{\geqslant}
\renewcommand{\arg}{\mathop{\rm arg}\nolimits}
\newcommand{\Br}[1]{\left(#1\right)} %скобки (x)
\newcommand{\abs}[1]{\left|#1\right|} %модуль |x|
\newcommand{\Abs}[1]{\lVert #1 \rVert} %норма ||x||

%более сложные вещи
\renewcommand{\dddot}[1]{\os{{}_{\displaystyle ...}}{#1}} %обычный \dddot делает некрасиво (поднимает символ и ставит слишком высоко точки)
\newcommand{\devides}{\mathop{\raisebox{-1pt}{\vdots}}} %значок деления
\def \doted#1{\stackrel{\circ}{#1}}
\newcommand\setItemnumber[1]{\setcounter{enumi}{\numexpr#1-1\relax}}
%значок пусть
\def\letus{%
    \mathord{\setbox0=\hbox{$\exists$}%
             \hbox{\kern 0.125\wd0%
                   \vbox to \ht0{%
                      \hrule width 0.75\wd0%
                      \vfill%
                      \hrule width 0.75\wd0}%
                   \vrule height \ht0%
                   \kern 0.125\wd0}%
           }%
}

%римские цифры
\newcommand{\RNumb}[1]{\text{\uppercase\expandafter{\romannumeral #1\relax}}}

%делаем стандартный шрифт для теорем
\theoremheaderfont{\normalfont\smallskip\bfseries}
\theorembodyfont{\normalfont}

\theoremstyle{nonumbermarginbreak}
\newtheorem{theorem}{\hspace*{-2em}\underline{\bfseries Теорема}}[section]
\newtheorem{definition}{\hspace*{-2em}\underline{\bfseries Опр}}[section]
\newtheorem{reminder}{\hspace*{-2em}\underline{\bfseries Напоминание}}[section]
\newtheorem{examples}{\hspace*{-2em}\underline{\bfseries Примеры}}[section]
\newtheorem{example}{\hspace*{-2em}\underline{\bfseries Пример}}[section]
\newtheorem{remark}{\hspace*{-2em}\underline{\bfseries Замечание}}[section]
\newtheorem{proof}{\hspace*{-2em}\underline{\bfseries Док-во}}[section]
\newtheorem{lemma}{\hspace*{-2em}\underline{\bfseries Лемма}}[section]
\newtheorem{hypothesis}{\hspace*{-2em}\underline{\bfseries Предположение}}[section]
\newtheorem{consequence}{\hspace*{-2em}\underline{\bfseries Следствие}}[section]
\newtheorem{utv}{\hspace*{-2em}\underline{\bfseries Утв}}[section]
\newtheorem{upr}{\hspace*{-2em}\underline{\bfseries Упр}}[section]
\newtheorem{sol}{\hspace*{-2em}\underline{\bfseries Решение}}[section]
\newtheorem{task}{\hspace*{-2em}\underline{\bfseries Задача}}[section]
\newtheorem{property}{\hspace*{-2em}\underline{\bfseries Свойство}}[section]
\newtheorem{properties}{\hspace*{-2em}\underline{\bfseries Свойства}}[section]
\newtheorem{designation}{\hspace*{-2em}\underline{\bfseries Обозн}}[section]
\newtheorem{alg}{\hspace*{-2em}\underline{\bfseries Алгоритм}}[section]

\theoremstyle{nonumbermargin}
\newtheorem{Theorem}{\hspace*{-2em}\underline{\bfseries Теорема}}[section]
\newtheorem{Definition}{\hspace*{-2em}\underline{\bfseries Опр}}[section]
\newtheorem{Reminder}{\hspace*{-2em}\underline{\bfseries Напоминание}}[section]
\newtheorem{Examples}{\hspace*{-2em}\underline{\bfseries Примеры}}[section]
\newtheorem{Example}{\hspace*{-2em}\underline{\bfseries Пример}}[section]
\newtheorem{Remark}{\hspace*{-2em}\underline{\bfseries Замечание}}[section]
\newtheorem{Proof}{\hspace*{-2em}\underline{\bfseries Док-во}}[section]
\newtheorem{Lemma}{\hspace*{-2em}\underline{\bfseries Лемма}}[section]
\newtheorem{Hypothesis}{\hspace*{-2em}\underline{\bfseries Предположение}}[section]
\newtheorem{Consequence}{\hspace*{-2em}\underline{\bfseries Следствие}}[section]
\newtheorem{Utv}{\hspace*{-2em}\underline{\bfseries Утв}}[section]
\newtheorem{Upr}{\hspace*{-2em}\underline{\bfseries Упр}}[section]
\newtheorem{Sol}{\hspace*{-2em}\underline{\bfseries Решение}}[section]
\newtheorem{Task}{\hspace*{-2em}\underline{\bfseries Задача}}[section]
\newtheorem{Property}{\hspace*{-2em}\underline{\bfseries Свойство}}[section]
\newtheorem{Properties}{\hspace*{-2em}\underline{\bfseries Свойства}}[section]
\newtheorem{Designation}{\hspace*{-2em}\underline{\bfseries Обозн}}[section]
\newtheorem{Alg}{\hspace*{-2em}\underline{\bfseries Алгоритм}}[section]

\theoremstyle{nonumbermarginbreak}
\newtheorem{ttheorem}{\hspace*{-2em}\underline{\bfseries Теорема*}}[section]
\newtheorem{ddefinition}{\hspace*{-2em}\underline{\bfseries Опр*}}[section]
\newtheorem{rreminder}{\hspace*{-2em}\underline{\bfseries Напоминание*}}[section]
\newtheorem{eexamples}{\hspace*{-2em}\underline{\bfseries Примеры*}}[section]
\newtheorem{eexample}{\hspace*{-2em}\underline{\bfseries Пример*}}[section]
\newtheorem{rremark}{\hspace*{-2em}\underline{\bfseries Замечание*}}[section]
\newtheorem{pproof}{\hspace*{-2em}\underline{\bfseries Док-во*}}[section]
\newtheorem{llemma}{\hspace*{-2em}\underline{\bfseries Лемма*}}[section]
\newtheorem{hhypothesis}{\hspace*{-2em}\underline{\bfseries Предположение*}}[section]
\newtheorem{cconsequence}{\hspace*{-2em}\underline{\bfseries Следствие*}}[section]
\newtheorem{uutv}{\hspace*{-2em}\underline{\bfseries Утв*}}[section]
\newtheorem{uupr}{\hspace*{-2em}\underline{\bfseries Упр*}}[section]
\newtheorem{ssol}{\hspace*{-2em}\underline{\bfseries Решение*}}[section]
\newtheorem{ttask}{\hspace*{-2em}\underline{\bfseries Задача*}}[section]
\newtheorem{pproperty}{\hspace*{-2em}\underline{\bfseries Свойство*}}[section]
\newtheorem{pproperties}{\hspace*{-2em}\underline{\bfseries Свойства*}}[section]
\newtheorem{ddesignation}{\hspace*{-2em}\underline{\bfseries Обозн*}}[section]
\newtheorem{aalg}{\hspace*{-2em}\underline{\bfseries Алгоритм*}}[section]

\theoremstyle{nonumbermargin}
\newtheorem{TTheorem}{\hspace*{-2em}\underline{\bfseries Теорема*}}[section]
\newtheorem{DDefinition}{\hspace*{-2em}\underline{\bfseries Опр*}}[section]
\newtheorem{RReminder}{\hspace*{-2em}\underline{\bfseries Напоминание*}}[section]
\newtheorem{EExamples}{\hspace*{-2em}\underline{\bfseries Примеры*}}[section]
\newtheorem{EExample}{\hspace*{-2em}\underline{\bfseries Пример*}}[section]
\newtheorem{RRemark}{\hspace*{-2em}\underline{\bfseries Замечание*}}[section]
\newtheorem{PProof}{\hspace*{-2em}\underline{\bfseries Док-во*}}[section]
\newtheorem{LLemma}{\hspace*{-2em}\underline{\bfseries Лемма*}}[section]
\newtheorem{HHypothesis}{\hspace*{-2em}\underline{\bfseries Предположение*}}[section]
\newtheorem{CConsequence}{\hspace*{-2em}\underline{\bfseries Следствие*}}[section]
\newtheorem{UUtv}{\hspace*{-2em}\underline{\bfseries Утв*}}[section]
\newtheorem{UUpr}{\hspace*{-2em}\underline{\bfseries Упр*}}[section]
\newtheorem{SSol}{\hspace*{-2em}\underline{\bfseries Решение*}}[section]
\newtheorem{TTask}{\hspace*{-2em}\underline{\bfseries Задача*}}[section]
\newtheorem{PProperty}{\hspace*{-2em}\underline{\bfseries Свойство*}}[section]
\newtheorem{PProperties}{\hspace*{-2em}\underline{\bfseries Свойства*}}[section]
\newtheorem{DDesignation}{\hspace*{-2em}\underline{\bfseries Обозн*}}[section]
\newtheorem{AAlg}{\hspace*{-2em}\underline{\bfseries Алгоритм*}}[section]

%фикс отступа
\usepackage{tocloft}
\setlength{\cftbeforetoctitleskip}{1em}
\endofdump

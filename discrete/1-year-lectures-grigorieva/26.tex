\documentclass[discrete.tex]{subfiles}

\begin{document}
  \section{Сжатие информации по методу Зива-Лемпеля}

  \begin{alg}[кодирования по Зива-Лемпелю]
      X - Входная фраза (некая строка, которую мы строим)\\
      Точкой обозначена конкатенация
      \begin{enumerate}
          \item Занести все возможные символы в словарь. (им всем будет присвоен код)
          \item Считаем один символ из сообщения и добавим его в X
          \item Считаем символ Y, если это символ конца сообщения, то вернем код X (он уже
              лежит в cловаре), иначе:
              \begin{enumerate}
                  \item Если X.Y уже есть в словаре, то присвоим X = X.Y, перейдем к шагу 3
                  \item Иначе вернем код для X, добавим X.Y в словарь и присвоим входной
                      фразе значение Y \q X = Y, перейдем к шагу 3
              \end{enumerate}
      \end{enumerate}
  \end{alg}

  \begin{example}
      Пример плохой. На самом деле, если не добавить \ul{все}
      возможные символы в словарь, то декодировать строку будет невозможно, либо нам придется передать вместе со строкой еще и словарь, состоящий из односимвольных фраз
      \[abrakadabra\]
      \[a - 1 \q b - 2 \q r - 3 \q k - 4 \q d - 5\]
      \[ab - 6 \q br - 7 \q ra - 8 \q ak - 9 \q ka - 10\]
      \[ad - 11 \q ab - 12 \q bra - 13\]
      \[\text{Output: } \us{a}{1} \ \us{b}{2} \ \us{r}{3} \ 1 \ 4 \ 1 \ 5 \ 1 \ 7 \ 1\]
  \end{example}

  \begin{alg} [декодирование]
      \begin{enumerate}
          \item Занести все возможные символы в словарь.
          \item В X считать первый код сообщения
          \item Считать очередной код Y из сообщения, если Y - конец сообщения, то выдать
              символ, соответствующий коду X, иначе:
              \begin{enumerate}
                  \item если фразы под кодом X.Y нет в словаре, то вывести\\ фразу,
                      соответствующую коду X, а фразу с кодом X.Y занести в словарь(
                      ! но присвоить ей другой код, а именно: кол-во элементов в словаре
                      + 1)
                  \item Иначе присвоить фразе код X.Y и перейти к шагу 3
              \end{enumerate}
      \end{enumerate}
  \end{alg}
\end{document}
